NOTE: CELERY ONLY WORKS IN LINUX ENVIRONMENTS!

### CELERY COMMANDS ###

# Running celery
# for Linux with log file
celery -A runcelery worker --loglevel DEBUG --logfile=/home/renz/logs/celery.log -P gevent

# for Windows WSL2 with log file
celery -A runcelery worker --loglevel DEBUG --logfile=/home/renz/logs/celery.log -P threads

# Flower monitoring command
celery -A runcelery flower --port=5555

# Check why celery worker failed:
tail -f /var/log/kern.log

### INSTALLING REDIS IN UBUNTU ###

sudo apt update
sudo apt install redis-server

# CHANGE THIS VALUE: supervised systemd
sudo nano /etc/redis/redis.conf

sudo systemctl restart redis
sudo systemctl status  redis

# Enable the Redis server to start automatically upon system startup or a reboot
sudo systemctl enable --now redis-server

# Checking Redis version
redis-server -v

### DOCKER ###

# Build the docker image (Dockerfile)
docker build -t renz0011/image-name:v1.0.0 . --no-cache

# run docker compose
docker-compose up --build